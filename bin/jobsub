#!/usr/bin/env ruby
#
# Test out submitting a job
#

require "rsgejob"

script = <<EOF
#!/bin/bash
#

sleep 1000000
EOF

job = RsgeJob.new( {
    :job_name   => "test_job",
    :cwd        => true,
    :script     => script,
    :hard_resreq => ["mem_free=1G", "pcpus=1", "h_rt=96:00:00"]
} )

job.submit

puts job.jobid + " " + job.job_owner + " " + job.state

job.delete

puts job.jobid + " " + job.job_owner + " " + job.state
